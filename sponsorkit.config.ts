import { defineConfig, presets, BadgePreset } from 'sponsorkit'

const RSS3_LOGO = (width: number, y: number) => `
<a xlink:href="https://rss3.io" class="sponsorkit-link" target="_blank" id="RSS3">
<svg x="${(width - 250)/2}" y="${y}" width="250" height="63" viewBox="0 0 250 63" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1_2)">
<path d="M175.378 36.8195C171.861 31.5962 163.38 28.817 157.31 27.1799C156.601 26.9927 155.868 26.8057 155.085 26.6147H155.022C151.752 25.7883 148.041 24.8723 145.153 23.3053C141.843 21.4927 140.222 19.1423 140.222 16.1214C140.222 15.6303 140.265 15.143 140.358 14.6597V14.5739C140.405 14.3517 140.464 14.1334 140.534 13.9152C140.541 13.884 140.55 13.8567 140.561 13.8294V13.7982C140.99 12.547 141.707 11.4126 142.654 10.4889C145.106 8.00586 149.024 6.61039 153.413 6.61039H153.55C156.781 6.68056 159.961 7.42897 162.889 8.80883C165.812 10.1342 168.451 12.0091 170.672 14.3283L170.728 20.6196V20.6859H176.188V1.73406H170.739V6.0296C170.739 6.09197 170.708 6.15434 170.653 6.18552C170.602 6.18552 170.536 6.15434 170.505 6.11925C168.197 4.36518 165.629 2.98141 162.896 2.01861C159.965 1.01684 156.894 0.482819 153.795 0.439941C150.24 0.439941 147.336 0.853124 144.911 1.64441C142.896 2.31486 141.021 3.3595 139.388 4.71989C137.611 6.10756 136.184 7.89282 135.221 9.92756C134.29 11.8921 133.802 14.036 133.79 16.2072C133.763 17.4935 133.923 18.7759 134.266 20.0193C134.687 21.3914 135.314 22.6933 136.13 23.8783C136.2 23.9913 136.281 24.0966 136.356 24.2057C136.429 24.3149 136.433 24.311 136.472 24.3616L136.523 24.4279C140.101 29.3706 148.092 31.5611 153.919 33.171L154.079 33.2139L155.373 33.5725L156.776 33.9506C159.813 34.6951 162.787 35.6852 165.664 36.913C167.165 37.5757 168.49 38.5775 169.531 39.8482C170.493 41.0215 171.149 42.4209 171.429 43.9138C171.702 45.4028 171.589 46.9385 171.101 48.3691C170.529 50.0179 169.582 51.5148 168.334 52.7348C166.966 53.9549 165.356 54.8748 163.614 55.44C161.918 55.9857 160.156 56.3014 158.375 56.3794C155.526 56.5159 152.672 56.1923 149.928 55.4244C145.274 53.951 141.025 51.1094 138.269 47.6363C138.176 47.5233 138.109 47.3946 138.067 47.2543L138.012 41.844V41.7738H132.551V61.5832H138.016V55.7908C140.3 57.7983 142.943 59.3536 145.812 60.367C149.164 61.6026 152.696 62.277 156.266 62.3628H156.71C159.743 62.3628 166.837 62.3628 172.403 57.6502C173.943 56.317 175.222 54.7072 176.165 52.8985C177.073 51.1601 177.666 49.2734 177.915 47.3284C178.168 45.4652 178.083 43.5707 177.658 41.7387C177.257 39.9573 176.481 38.2773 175.381 36.8195H175.378Z" fill="black"/>
<path d="M121.448 36.8195C118.002 31.6235 109.485 28.8287 103.381 27.1838C102.687 27.0006 101.966 26.8252 101.202 26.6342C94.5833 25.0009 86.3391 22.9584 86.2459 16.1058C86.2459 15.0729 86.4637 14.0516 86.8886 13.1121C87.3449 12.1221 87.9802 11.2256 88.7599 10.4654C91.2426 8.01755 95.137 6.61039 99.4909 6.61039H99.6271C102.859 6.68056 106.035 7.42897 108.959 8.80883C111.87 10.1342 114.498 12.0091 116.696 14.3283L116.805 20.6196V20.6898H122.266V1.73406H116.818V6.0296C116.818 6.09197 116.786 6.15043 116.735 6.18552C116.692 6.18552 116.646 6.18552 116.583 6.11925C114.276 4.36518 111.707 2.98141 108.974 2.01861C106.044 1.01684 102.972 0.482819 99.8729 0.439941C96.2987 0.439941 93.387 0.853124 90.9703 1.64441C88.9587 2.31875 87.0957 3.3595 85.4662 4.71989C83.6889 6.10756 82.262 7.89282 81.2992 9.92756C80.3637 11.896 79.8725 14.0438 79.8609 16.2228C79.8336 17.5091 79.9934 18.7875 80.3286 20.031C80.7418 21.3953 81.3538 22.6933 82.1412 23.8783C85.5709 29.2224 93.9637 31.5183 100.087 33.1983L100.232 33.2373L101.448 33.5725L102.73 33.9155L102.851 33.9467C105.888 34.6912 108.861 35.6813 111.738 36.9092C113.247 37.5796 114.576 38.5931 115.629 39.8638C116.595 41.0526 117.254 42.4637 117.535 43.9683C117.804 45.4612 117.686 46.997 117.196 48.4276C116.619 50.0764 115.663 51.5693 114.413 52.7855C113.052 54.0017 111.45 54.9177 109.711 55.4712C108.012 56.0169 106.246 56.3248 104.461 56.3911C104.094 56.3911 103.709 56.4145 103.318 56.4145C100.824 56.4223 98.3408 56.0832 95.9398 55.4088C95.6634 55.323 95.3828 55.2256 95.1139 55.1281H95.0709C94.5132 54.9294 93.9521 54.7149 93.4142 54.4616C90.7129 53.2767 88.245 51.6278 86.1213 49.5853L86.0115 49.48C85.6807 49.1487 85.3449 48.7979 85.0214 48.4276L84.7723 48.1431C84.6279 47.9715 84.4876 47.8078 84.3589 47.6324C84.2698 47.5194 84.203 47.3908 84.1601 47.2543L84.1056 41.844V41.7738H78.5667V61.5832H84.0866V55.7908C86.3705 57.7983 89.0132 59.3536 91.882 60.367C95.2343 61.6026 98.7657 62.277 102.337 62.3628H102.781C105.798 62.3628 112.861 62.3628 118.474 57.6502C120.014 56.317 121.292 54.7072 122.235 52.8985C123.144 51.1717 123.74 49.2969 123.993 47.3635C124.247 45.5003 124.161 43.6059 123.736 41.7738C123.338 39.9768 122.559 38.289 121.452 36.8156L121.448 36.8195Z" fill="black"/>
<path d="M65.4355 56.8711L50.5063 34.302C53.036 34.3994 55.5541 33.9122 57.8617 32.8753C61.1243 31.2187 63.7476 29.1216 65.3575 26.0188C66.6672 23.4579 67.3455 20.6202 67.3337 17.7435C67.3337 13.218 65.5485 8.87952 62.3677 5.65984C58.9181 2.53368 54.6109 1.00958 49.1927 1.00958H20.2738V7.2541H26.4131V56.949H19.7359V62.1723H39.1204V56.949H32.8759V34.3955H43.3224L57.9475 56.949H51.3015V62.1723H72.1633V56.949H65.6381C65.5601 56.953 65.4861 56.9256 65.4315 56.875L65.4355 56.8711ZM32.8759 6.97344H48.877C53.7922 6.97344 57.5655 8.92631 59.4755 12.2824C61.3465 15.7087 61.2803 19.8679 59.3001 23.2357C57.3394 26.545 55.0201 28.3732 49.8827 28.3732H32.872V6.97344H32.8759Z" fill="black"/>
<path d="M227.745 44.0858C227.745 36.594 223.96 31.1797 217.681 28.8604C223.005 26.0617 225.356 21.4621 225.356 16.7261C225.356 5.79235 216.184 0 204.221 0C197.692 0.0506733 190.734 2.22183 185.979 8.89513L190.945 12.1343C193.603 8.55602 197.396 5.79235 204.221 5.79235C212.909 5.79235 219.076 9.31997 219.076 16.04C219.076 22.7601 212.894 26.0656 206.564 26.0656H197.941V32.2711H207.063C215.135 32.2711 221.517 36.6212 221.318 44.0156C220.866 51.8778 213.939 56.0993 204.872 56.0993C199.036 56.0993 192.559 54.2634 187.721 49.0908L187.471 48.9972L183.234 53.6358L183.433 53.6865C189.514 59.3931 196.745 62.3438 204.868 62.3438C217.38 62.3204 227.745 55.5497 227.745 44.0897V44.0858Z" fill="black"/>
<path d="M15.7126 28.3292H0V34.7452H15.7126V28.3292Z" fill="#0072FF"/>
<path d="M250 28.3292H234.287V34.7452H250V28.3292Z" fill="#0072FF"/>
</g>
<defs>
<clipPath id="clip0_1_2">
<rect width="250" height="62.7063" fill="white"/>
</clipPath>
</defs>
</svg>
</a>
`

const past: BadgePreset = {
  avatar: {
    size: 20,
  },
  boxWidth: 22,
  boxHeight: 22,
  container: {
    sidePadding: 35,
  },
}

export default defineConfig({
  formats: ['svg', 'json'],
  afdian: {
    exechangeRate: 740,
  },
  tiers: [
    {
      title: 'Past Sponsors',
      monthlyDollars: -1,
      preset: presets.xs,
    },
    {
      title: 'Donors',
      preset: presets.base,
    },
    {
      title: 'Supporters',
      monthlyDollars: 5,
      preset: {
        ...presets.medium,
        name: {
          maxLength: 8,
        },
      },
    },
    {
      title: 'Patrons',
      monthlyDollars: 10,
      preset: {
        ...presets.medium,
        name: {
          maxLength: 8,
        },
      },
    },
    {
      title: 'Benefactors',
      monthlyDollars: 100,
      preset: {
        ...presets.large,
        name: {
          maxLength: 8,
        },
      },
    },
    {
      title: 'Special Sponsor',
      monthlyDollars: Infinity,
      composeAfter(compose,_,config) {
        if (config.filter?.({ monthlyDollars: Infinity } as any, []) !== false) { 
          compose
            .addSpan(20)
            .addText('Special Sponsor', 'sponsorkit-tier-title')
            .addSpan(10)
            .addRaw(RSS3_LOGO(config.width!, compose.height))
            .addSpan(110)
        }
      }
    },
  ],
})